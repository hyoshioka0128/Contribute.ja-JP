---
title: pull request の送信
description: この記事では、PR プロセスと、投稿をマージできるようにするためのベスト プラクティスについて説明します。
ms.topic: contributor-guide
ms.prod: non-product-specific
ms.custom: external-contributor-guide
author: sdwheeler
ms.author: sewhee
ms.date: 10/09/2019
ms.openlocfilehash: 09b9fd1057a32c8d2755e07cac564eca417bd357
ms.sourcegitcommit: ca84e542b081e145052f38967e826f6ef25da1b2
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/12/2019
ms.locfileid: "72290083"
---
# <a name="best-practices-for-pull-requests"></a>pull request のベスト プラクティス

コンテンツの変更を発行するには、作成者のフォークから pull request を送信します。 すべての pull request は、マージされる前にレビューされる必要があります。

## <a name="target-the-correct-branch"></a>正しいブランチをターゲットにする

すべての変更は、`staging` ブランチに対して行う必要があります。 `live` ブランチを変更の対象にすることはできません。 `staging` ブランチで行った変更が `live` にマージされ、`live` に対して加えた変更は上書きされます。

リリースされていないバージョンの PowerShell にのみ適用される変更をドキュメントに送信する場合は、そのバージョンのリリース ブランチがあるかどうかを確認してください。 将来の特定のものに適用されるすべての変更は、リリース ブランチを対象とする必要があります。 リリース ブランチの名前のパターンは、`release-<version>` です。

## <a name="make-the-pull-request-queue-work-better-for-everyone"></a>Pull request キューをすべての人にとってより良く機能させる

プル要求のキュー基本的な事実として、次の 2 点が挙げられます。

- 範囲が小さく、関連性のある pull requests は、レビューにかかる時間が少なくなる。
- 範囲が大きな pull request や、関連性のない変更を含む pull request は、レビューにより多くの時間がかかる。

### <a name="avoid-branches-that-update-large-numbers-of-files"></a>多数のファイルを更新するブランチを回避する

既存の記事への小規模な更新は、新しい記事や大規模な改訂から切り離します。 このような変更は、別の作業ブランチで対応します。

一括変更により、多数の変更されたファイルを含む PR が発生します。 PR の変更ファイルを最大 50 個に制限してください。 大規模な PR はレビューするのが難しく、エラーを含む可能性が高くなります。

### <a name="renaming-or-deleting-files"></a>ファイル名の変更またはファイルの削除

ファイルの名前を変更したり、ファイルを削除したりする場合は、これらの変更をコンテンツの追加または更新と一緒にしないでください。
これらの変更は、関連する変更のための PR の後にマージされる、別の PR で処理します。 たとえば、記事を削除する前に、リダイレクトのファイルを更新し、リダイレクトが機能していることを確認します。

名前を変更したファイルにリンクするすべてのファイルを更新する必要があります。 これには、すべての TOC ファイルが含まれます。 また、リポジトリのルートにあるマスター リダイレクト ファイル (`.openpublishing.redirection.json`) にリダイレクト エントリを追加する必要があります。

## <a name="docs-pr-validation-service"></a>Docs PR 検証サービス

Docs PR 検証サービスは、PR 内のファイルに検証ルールを適用する GitHub アプリです。

次のような動作になります。

1. PR を送信します。
1. PR の状態を示す GitHub コメント内で、"checks" (チェック) の状態が有効になっているのをリポジトリで確認できます。 この例では、2 つのチェック "Commit Validation" (コミットの検証) と "OpenPublishing.Build" が有効になっていることに注意します。

   ![一部のチェックが失敗](media/powershell-pull-requests/validation-failed.png)

   コミットの検証に失敗した場合でも、ビルドを通すことができます。

1. **[Details]\(詳細\)** をクリックして詳細情報を確認します。
1. 詳細ページには、失敗したすべての検証チェックと、その問題を修正する方法に関する情報が表示されます。
1. 検証が成功すると、次のコメントが PR に追加されます。

   ![ビルドの検証](media/powershell-pull-requests/build-validation.png)

外部 (Microsoft 以外) の共同作成者である場合、詳細なビルド レポートやプレビュー リンクにアクセスすることはできません。

### <a name="build-warnings"></a>ビルドの警告

通常は、すべてのビルド エラー、警告、および提案を修正する必要があります。 ただし、一部の警告は無視してかまいません。

次の警告は無視できます。

- > Can't find service name for `<version>/<modulepath>/About/About.md` (サービス名が見つかりません)

- > Metadata with following name(s) are not allowed to be set in Yaml header, or as file level metadata in docfx.json, or as global metadata in docfx.json: `locale`. They are generated by Docs platform, so the values set in these 3 places will be ignored. Please remove them from all 3 places to resolve the warning. (次の名前のメタデータは、Yaml ヘッダーに設定したり、docfx.json でファイル レベルのメタデータとして設定したり、docfx.json でグローバル メタデータとして設定したりできません。これらは Docs プラットフォームによって生成されるため、これら 3 つの場所で設定された値は無視されます。警告を解決するには、3 つの場所すべてからそれらを削除してください。)
